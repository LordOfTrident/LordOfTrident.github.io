<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Noch | Documentation</title>
	<meta property="og:title" content="Noch | Documentation">

	<meta name="description" content="Noch documentation">
	<meta property="og:description" content="Documentation template">

	<meta name="keywords" content="LordOfTrident, Trident, TR-ED, Trident Editor">
	<meta name="author" content="LordOfTrident">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#9883d0">
	<meta name="twitter:card" content="summary_large_image">

	<meta property="og:type" content="website">
	<meta property="og:site_name" content="LordOfTrident">
    <meta property="og:url" content="https://lordoftrident.github.io/docs/noch">
    <meta property="og:image" content="/res/imgs/noch.png">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,300' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="./theme.css">
	<link rel="stylesheet" href="/docs/base/style.css">
</head>

<body>
	<button id="back-to-top" onclick="backToTop()">
		<i class="icon fa fa-chevron-up fa-sm"></i>
	</button>

	<a href="https://github.com/lordoftrident/noch" class="github-corner" target="_blank">
		<svg viewBox="0 0 250 250" aria-hidden="true">
			<path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
			<path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
			<path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor"></path>
		</svg>
	</a>

	<main id="site-main">
		<div class="doc-sidebar">
			<div class="doc-sidebar-fixed">
				<header class="doc-sidebar-header">
					<a class="doc-sidebar-back" href="../"><i class="icon fa fa-chevron-left fa-sm"></i></a>
					<h1 class="doc-sidebar-title">noch</h1>
					<p class="doc-sidebar-desc">Table of contents</p>
				</header>
				<nav class="doc-nav">
					<ul class="nav-doc-nest-1">
						<li>
							<a href="#introduction">Introduction</a>
						</li>
						<li>
							<a href="#motivation">Motivation</a>
						</li>
						<li>
							<a href="#usage">Usage</a>
						</li>
						<li>
							<a href="#libraries">Libraries</a>
							<ul class="nav-doc-nest-2">
								<li>
									<a href="/docs/noch/args">noch/args</a>
								</li>
							</ul>
						</li>
						<li>
							<a href="#config">Config</a>
							<ul class="nav-doc-nest-2">
								<li>
									<a href="#NOCH_DEF"><span class="inline-code">NOCH_DEF</span></a>
								</li>
								<li>
									<a href="#NOCH_ASSERT"><span class="inline-code">NOCH_ASSERT</span></a>
								</li>
								<li>
									<a href="#NOCH_ALLOC"><span class="inline-code">NOCH_ALLOC</span></a>
								</li>
								<li>
									<a href="#NOCH_REALLOC"><span class="inline-code">NOCH_REALLOC</span></a>
								</li>
								<li>
									<a href="#NOCH_FREE"><span class="inline-code">NOCH_FREE</span></a>
								</li>
							</ul>
						</li>
						<li>
							<a href="#rules">Code rules</a>
							<ul class="nav-doc-nest-2">
								<li>
									<a href="#rules-structure">Structure</a>
								</li>
								<li>
									<a href="#rules-naming">Naming</a>
								</li>
								<li>
									<a href="#rules-funcs">Functions</a>
								</li>
								<li>
									<a href="#rules-comments">Comments</a>
								</li>
								<li>
									<a href="#rules-preproc">Pre-processor</a>
								</li>
								<li>
									<a href="#rules-formatting">Formatting</a>
								</li>
							</ul>
						</li>
					</ul>
				</nav>
			</div>
		</div>

		<div class="doc-page">
			<div class="doc-content">
				<button class="theme" id="dark-theme" onclick="setTheme('dark')">
					<i class="icon fa fa-moon-o fa-sm"></i>
				</button>
				<button class="theme" id="light-theme" onclick="setTheme('light')">
					<i class="icon fa fa-sun-o fa-sm"></i>
				</button>
				<div class="clearfix"></div>

				<div class="container">
					<section class="doc-section">
						<p>
							<b>!THIS DOCUMENTATION IS A WORK IN PROGRESS!</b>
						</p>
					</section>
					<section class="doc-section">
						<h1 id="introduction">Introduction</h1>
						<p>
							<b>Noch</b> (Not <a href="https://github.com/lordoftrident/chol">Chol</a>) is an ever-growing bundle of convenient <a href="https://en.wikipedia.org/wiki/C_(programming_language)" target="_blank">C</a> libraries that enables developers to reduce code repetition. Noch addresses reoccurring cases like parsing command line arguments and abstracting filesystem functions, so you can get to what matters promptly.
						</p>
						<p>
							These libraries are designed to be included and compiled alongside your code. Because most header files have a single corresponding source file, if that, statically or dynamically linking such is merely overkill.
						</p>
					</section>
					<section class="doc-section">
						<h1 id="motivation">Motivation</h1>
						<p>
							The driving force behind Noch stems from the repetitive nature of coding in C programs. I found myself writing the same functions across multiple projects. After a while there came a point where continuing this pattern any further was no longer practical. It was time to encapsulate these various functions once and for all, so came the birth of Noch (successor to Chol).
						</p>
					</section>
					<section class="doc-section">
						<h1 id="usage">Usage</h1>
						<p>
							To use a library from noch, include its <span class="inline-code">.h</span> file for the declarations, and then in a source file
							include the <span class="inline-code">.c</span> file for the implementation.
						</p>

						<p>
							For easier configuring, you can include all <span class="inline-code">.h</span> files in a single file and all <span class="inline-code">.c</span> in a single file. See the example below.
						</p>

						<div class="code">
							<header class="code-header">
								<p>example.h</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-preproc">#include</span> <span class="tok tok-str">&lt;noch/args.h></span></span>
<span class="code-line"><span class="tok tok-preproc">#include</span> <span class="tok tok-str">&lt;noch/log.h></span></span>
<span class="code-line"><span class="tok tok-preproc">#include</span> <span class="tok tok-str">&lt;noch/fs.h></span></span></pre>
						</div>

						<div class="code">
							<header class="code-header">
								<p>example.c</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-preproc">#include</span> <span class="tok tok-str">"example.h"</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="tok tok-preproc">#include</span> <span class="tok tok-str">&lt;noch/args.c></span></span>
<span class="code-line"><span class="tok tok-preproc">#include</span> <span class="tok tok-str">&lt;noch/log.c></span></span>
<span class="code-line"><span class="tok tok-preproc">#include</span> <span class="tok tok-str">&lt;noch/fs.c></span></span></pre>
						</div>

					</section>
					<section class="doc-section">
						<h1 id="libraries">Libraries</h1>
						<ul>
							<li>
								<a href="/docs/noch/args">noch/args</a>
							</li>
						</ul>
					</section>
					<section class="doc-section">
						<h1 id="config">Config</h1>
						<p>
							To allow for the most flexibility, Noch provides several macros that can be redefined to extend and/or alter functionality. These macros can be defined prior to or following any included Noch headers. Here is an example using the <span class="inline-code">NOCH_ASSERT</span> macro from <span class="inline-code">&lt;noch/internal/assert.h&gt;</span>:
						</p>
						<div class="code">
							<header class="code-header">
								<p>Example</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-preproc">#include</span> <span class="tok tok-str">&lt;stdlib.h></span></span>
<span class="code-line"><span class="tok tok-preproc">#include</span> <span class="tok tok-str">&lt;stdio.h></span></span>
<span class="code-line"></span>
<span class="code-line"><span class="tok tok-preproc">#define</span> NOCH_ASSERT(EXPR) \</span>
<span class="code-line">    <span class="tok tok-keyword">if</span> (!(EXPR)) { \</span>
<span class="code-line">        fprintf(stderr, <span class="tok tok-str">"Assertion failed: <span class="tok tok-escape">%s\n</span>"</span>, #EXPR); \</span>
<span class="code-line">        exit(<span class="tok tok-num">1</span>); \</span>
<span class="code-line">    }</span></pre>
						</div>

						<p>
							The entire Noch library will use this assert rather than the default. You can find the default definitions of this macro and others here in the <a href="https://github.com/LordOfTrident/noch/tree/main/internal/" target="_blank">internal folder</a>. By default, these macros use functions from the C standard library.
						</p>

						<h2 id="NOCH_DEF">Macro <span class="inline-code">NOCH_DEF</span></h2>
						<div class="code no-header">
							<pre class="code-content"><span class="tok tok-preproc">#define</span> NOCH_DEF</pre>
						</div>

						<p>
							Included in front of Noch function definitions.
						</p>

						<h2 id="NOCH_ASSERT">Macro <span class="inline-code">NOCH_ASSERT</span></h2>
						<div class="code no-header">
							<pre class="code-content"><span class="tok tok-preproc">#define</span> NOCH_ASSERT(EXPR) assert(EXPR)</pre>
						</div>

						<p>
							Used for assertions within Noch implementations.
						</p>

						<h3>Parameters</h3>
						<table>
							<tr>
								<td>Name</td>
								<td>Description</td>
							</tr>
							<tr>
								<td>EXPR</td>
								<td>The condition to assert.</td>
							</tr>
						</table>

						<h2 id="NOCH_ALLOC">Macro <span class="inline-code">NOCH_ALLOC</span></h2>
						<div class="code no-header">
							<pre class="code-content"><span class="tok tok-preproc">#define</span> NOCH_ALLOC(SIZE) malloc(SIZE)</pre>
						</div>

						<p>
							Used to allocate memory in the Noch implementations.
						</p>

						<h3>Parameters</h3>
						<table>
							<tr>
								<td>Name</td>
								<td>Description</td>
							</tr>
							<tr>
								<td>SIZE</td>
								<td>The size in bytes to allocate.</td>
							</tr>
						</table>

						<h2 id="NOCH_REALLOC">Macro <span class="inline-code">NOCH_REALLOC</span></h2>
						<div class="code no-header">
							<pre class="code-content"><span class="tok tok-preproc">#define</span> NOCH_REALLOC(PTR, SIZE) realloc(SIZE)</pre>
						</div>

						<p>
							Used to reallocate memory.
						</p>

						<h3>Parameters</h3>
						<table>
							<tr>
								<td>Name</td>
								<td>Description</td>
							</tr>
							<tr>
								<td>PTR</td>
								<td>Pointer to the previous allocated memory.</td>
							</tr>
							<tr>
								<td>SIZE</td>
								<td>Size of the new memory to allocate.</td>
							</tr>
						</table>

						<h2 id="NOCH_FREE">Macro <span class="inline-code">NOCH_FREE</span></h2>
						<div class="code no-header">
							<pre class="code-content"><span class="tok tok-preproc">#define</span> NOCH_FREE(PTR) free(PTR)</pre>
						</div>

						<p>
							Used to free memory.
						</p>

						<h3>Parameters</h3>
						<table>
							<tr>
								<td>Name</td>
								<td>Description</td>
							</tr>
							<tr>
								<td>PTR</td>
								<td>Pointer to the allocated memory to free.</td>
							</tr>
						</table>

					</section>
					<section class="doc-section">
						<h1 id="rules">Code rules</h1>
						<ul>
							<li><p>
								Always make sure the code does not give warnings and is valid in C++.
							</p></li>
							<li><p>
								Never use integers for booleans, instead include <span class="inline-code">stdbool.h</span>. See the <a href="#rules-structure">structure example</a> for how to include <span class="inline-code">stdbool.h</span>.
							</p></li>
							<li><p>
								Always use <span class="inline-code">typedef</span> for types.
							</p></li>
						</ul>

						<h2 id="rules-structure">Structure</h2>
						<p>
							Each Noch library has a <span class="inline-code">.h</span> file and a <span class="inline-code">.c</span> file.
							The <span class="inline-code">.h</span> contains declarations like a normal header file. See the template below.
						</p>

						<div class="code">
							<header class="code-header">
								<p>example.h</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-preproc">#ifndef</span> NOCH_EXAMPLE_H_HEADER_GUARD</span>
<span class="code-line"><span class="tok tok-preproc">#define</span> NOCH_EXAMPLE_H_HEADER_GUARD</span>
<span class="code-line"><span class="tok tok-preproc">#ifdef</span> __cplusplus</span>
<span class="code-line"><span class="tok tok-keyword">extern</span> <span class="tok tok-str">"C"</span> {</span>
<span class="code-line"><span class="tok tok-preproc">#endif</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="tok tok-comment">/* Only add these 3 lines if the library uses bools */</span></span>
<span class="code-line"><span class="tok tok-preproc">#ifndef</span> __cplusplus</span>
<span class="code-line"><span class="tok tok-preproc">#    include</span> <span class="tok tok-str">&lt;stdbool.h></span> <span class="tok tok-comment">/* bool, true, false */</span></span>
<span class="code-line"><span class="tok tok-preproc">#endif</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="tok tok-comment">/* Library declarations etc. */</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="tok tok-preproc">#ifdef</span> __cplusplus</span>
<span class="code-line">}</span>
<span class="code-line"><span class="tok tok-preproc">#endif</span></span>
<span class="code-line"><span class="tok tok-preproc">#endif</span></span></pre>
						</div>

						<p>
							The <span class="inline-code">.c</span> file contains the implementation of the library. See the template below.
						</p>

						<div class="code">
							<header class="code-header">
								<p>example.c</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-preproc">#include</span> <span class="tok tok-str">"example.h"</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="tok tok-preproc">#ifdef</span> __cplusplus</span>
<span class="code-line"><span class="tok tok-keyword">extern</span> <span class="tok tok-str">"C"</span> {</span>
<span class="code-line"><span class="tok tok-preproc">#endif</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="tok tok-comment">/* Library implementation */</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="tok tok-preproc">#ifdef</span> __cplusplus</span>
<span class="code-line">}</span>
<span class="code-line"><span class="tok tok-preproc">#endif</span></span></pre>
						</div>

						<h2 id="rules-naming">Naming</h2>
						<ul>
							<li><p>
								Use <a href="https://en.wikipedia.org/wiki/Snake_case" target="_blank">snake_case</a> for all variable, function, type, macro and file names.
							</p></li>
							<li><p>
								Types have a <span class="inline-code">_t</span> suffix.
							</p></li>
							<li><p>
								Macros are <b>always</b> upper case.
							</p></li>
							<li><p>
								Variables, functions and types are prefixed with <span class="inline-code">noch_</span> while macros are prefixed with <span class="inline-code">NOCH_</span>.
							</p></li>
							<li><p>
								Implementation macros, functions etc. that are not supposed to be used by the library users have one more underscore added to the prefix, e.g. <span class="inline-code">noch__my_func</span>.
							</p></li>
						</ul>

						<h2 id="rules-funcs">Functions</h2>
						<p>
							All functions must be defined with <span class="inline-code">NOCH_DEF</span> at the start, unless they are
							implementation-only functions that are not supposed to be used by the library users. In that case, the function must
							be defined as static. These functions are also only defined in the <span class="inline-code">.c</span> file.
						</p>

						<div class="code">
							<header class="code-header">
								<p>example.c</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-keyword">static void</span> noch__my_implementation_func(<span class="tok tok-keyword">void</span>) {</span>
<span class="code-line">    printf(<span class="tok tok-str">"Hello, world!<span class="tok tok-escape">\n</span>"</span>);</span>
<span class="code-line">}</span>
<span class="code-line"></span>
<span class="code-line">NOCH_DEF <span class="tok tok-keyword">void</span> noch_my_func(<span class="tok tok-keyword">void</span>) {</span>
<span class="code-line">    noch__my_implementation_func();</span>
<span class="code-line">}</span></pre>
						</div>

						<p>
							If there is a structure and a function that returns a new instance of it,
							the function must be prefixed with the name of the structure type, excluding
							the <span class="inline-code">_t</span> suffix, like so:
						</p>

						<div class="code">
							<header class="code-header">
								<p>example.h</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-keyword">typedef struct</span> {</span>
<span class="code-line">    <span class="tok tok-keyword">int</span> x, y;</span>
<span class="code-line">} <span class="tok tok-keyword">vec2_t</span>;</span>
<span class="code-line"></span>
<span class="code-line">NOCH_DEF <span class="tok tok-keyword">vec2_t</span> noch_vec2_new(<span class="tok tok-keyword">int</span> x, <span class="tok tok-keyword">int</span> y);</span></pre>
						</div>

						<p>
							The same applies if there is a function that in an object oriented language would be a method of the class
							(so takes a pointer to the structure and works with it, for example with the <span class="inline-code">vec2_t</span> structure it could be
							<span class="inline-code">float noch_vec2_mag(vec2_t *vec2)</span> for the magnitude of the vector).
						</p>

						<h2 id="rules-comments">Comments</h2>
						<p>
							The implementation code should be explained in comments, but only in parts that are not obvious. Always use C-style
							comments (<span class="inline-code">/* */</span>), not C++ ones (<span class="inline-code">//</span>)
						</p>

						<h2 id="rules-preproc">Pre-processor</h2>
						<p>
							Pre-processor indentation should go after the hash:
						</p>

						<div class="code">
							<header class="code-header">
								<p>Example</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-preproc">#ifdef</span> __cplusplus</span>
<span class="code-line"><span class="tok tok-preproc">#    define</span> CPP</span>
<span class="code-line"><span class="tok tok-preproc">#endif</span></span></pre>
						</div>

						<h2 id="rules-formatting">Formatting</h2>
						<ul>
							<li><p>
								Always use tab indentation with the width of 4 spaces.
							</p></li>
							<li><p>
								Do not put <span class="inline-code">{</span> on a new line.
							</p></li>
							<li><p>
								Lines are limited to 100 characters max (indentation counts as 4 characters).
							</p></li>
							<li><p>
								If a line exceeds this limit and its caused by a long function/type name, consider making the name shorter, but not too short.
								If that is not possible, wrap the line.</a>
							</p></li>
							<li><p>
								When declaring pointer variables, attach the asterisk to the name, not type: <span class="inline-code">int *a</span>.
							</p></li>
							<li><p>
								When casting, to a pointer, attach the asterisk to the type: <span class="inline-code">(int*)x</span>.
							</p></li>
						</ul>

						<div class="code">
							<header class="code-header">
								<p>Line wrapping example</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-comment">/* Pretend that these wrapped lines exceed the 100 chars limit */</span></span>
<span class="code-line">NOCH_DEF <span class="tok tok-keyword">int</span> noch_func(<span class="tok tok-keyword">int</span> a, <span class="tok tok-keyword">long long</span> b, </span>
<span class="code-line">                       <span class="tok tok-keyword">long long</span> d) {</span>
<span class="code-line">    <span class="tok tok-keyword">long long</span> ret = (<span class="tok tok-keyword">long long</span>)a *</span>
<span class="code-line">                    ((<span class="tok tok-keyword">long long</span>)b + d);</span>
<span class="code-line">    <span class="tok tok-keyword">return</span> ret;</span>
<span class="code-line">}</span>
</pre>
						</div>
					</section>
				</div>
			</div>

			<footer id="site-footer">
				<p>Made with <span class="heart"><3</span> by LordOfTrident</p>
			</footer>
		</div>
	</main>

	<script src="/docs/base/script.js"></script>
</body>
</html>
